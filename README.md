# autoXRAY
Bash-скрипт для автоматической настройки ядра [Xray](https://github.com/XTLS/Xray-core). Предназначен для быстрого и удобного получения актуальных конфигураций ВПН для семейного использования.

Рекомендуемая система: Debian 12. Также поддерживаются Debian 10, Debian 11 и Ubuntu 24.

**Вы получите:**
1. основной VLESS TCP REALITY xtls-rprx-vision на 443 порту с рандомным сайтом маскировки.
2. вспомогательный vless на 8443 порту.
3. вспомогательный Shadowsocks на 2040 порту.

## Стандартная установка
Зайдите в консоль на сервер (Debian 12), например, с помощью PuTTY и введите команду:
```bash
bash -c "$(curl -L https://raw.githubusercontent.com/xVRVx/autoXRAY/main/autoXRAY.sh)"
```
Подождите около 5 минут, пока устанавливаются обновления и ядро. В конце установки зелёными цветом будут подсвечены 3 готовых конфига. Вам останется только вставить их в ваше клиентское приложение.

## Установка для хостеров
Если вы хотите автоматически развертывать личный VPN для своих клиентов и у вас есть авторизация в Телеграме. 
```bash
bash -c "$(curl -L https://raw.githubusercontent.com/xVRVx/autoXRAY/main/autoXRAY.sh)" -- chatID tgTOKEN
```
chatID — id вашего клиента в ТГ, tgTOKEN — токен вашего бота. Просьба указывать автора и ссылку на эту страницу в качестве первоисточника.


После настройки ядра скрипт автоматически пришлет готовые конфиги с инструкцией в ТГ бот.


## Настройка VPN
**Скопируйте конфиг в специализированное приложение:**

- iOS: Happ или v2rayTun или FoXray
- Android: Happ или v2rayTun или v2rayNG
- Windows: Hiddify или Nekoray


Сайт с инструкциями:  [blog.skybridge.run](https://blog.skybridge.run)

Здесь вы найдете более подробные инструкции по подключению. 


## Пояснение и рекомендации

Сейчас в сети много инструкций по установке GUI-панелей, таких как Marzban, 3x-ui или новая RemnaWave. Однако все они избыточны для домашнего использования, так как предназначены для крупных проектов и отличаются высокой сложностью настройки (также используют ядро xray). 

Мануал, который необходимо пройти до получения первого рабочего конфига, занимает более 10 страниц. 
Кроме того, подходящий конфиг для Xray нужно ещё поискать и правильно настроить — с этим отлично справляется данный скрипт.

Без GUI и базы данных Xray потребляет меньше ресурсов сервера и отлично подходит для запуска на слабых VPS-конфигурациях!

При каждом запуске autoXRAY генерирует новые UUID, ключи и пароли для защиты пользователей, а также выбирает случайные SNI из списка для маскировки.

## Выбор сервера (реферальные ссылки)

- [AEZA](https://aeza.net/?ref=671750) - у них иногда есть promo vps в Швеции за 1.1 евро (оплата криптовалютой).
- [XorekCloud](https://xorek.cloud/?from=28522) - тут есть новый промо тариф, за 150 руб./мес.


## Смена паролей и сайта маскировки

Запустите скрипт заново - он сформирует новые конфигурации VPN для YouTube, chatGPT и других нужных сайтов.

## Повышенная маскировка

В идеале, надо настроить ваше клиентское приложение, чтобы оно отправляло российский трафик напрямую, минуя vpn сервер. Также можно: перенаправлять ру трафик в [Cloudflare WARP](https://marzban-docs.sm1ky.com/tutorials/cloudflare-warp/), создать второй ру сервер и перенаправлять его туда.

Если вы хотите погрузиться в дело конфигурации xray есть отличный [справочник](https://xtls.github.io/ru/config/outbounds/vless.html) и [руководство](https://github.com/XTLS/Xray-core/discussions/3518).

Редактировать конфиг можно тут: /usr/local/etc/xray/config.json

После изменений ядро надо перезапустить: sudo systemctl restart xray

Также рекомендуется: как минимум, сменить порт ssh со стандартного 22 на другой или сделать вход на сервер по ключу. Настроить файрвол и оставить открытыми порты для работы скрипта: 443, 8443, 2040.


## selfsteal

Есть такое понятие как селфстил (selfsteal), когда на самом сервере стоит сайт для маскировки, это дает много плюсов, но требует повышенных знаний и своего домена, настройки реверс-прокси, таких как nginx и маскировочного сайта.

**Требования:**
1. Свой домен, не в СНГ зонах.
2. ДНС-хостинг.
3. Debian 12 (на других не тестировалось).

**Домен и бесплатный днс-хостинг можно получить** в [регру](www.reg.ru) за рубли или [cloudns](www.cloudns.net/) за крипту.

Необходимо настроить A-запись вашего домена на IP-адрес вашего сервера, чтобы можно было выпустить SSL-сертификат. Помните, что DNS-записи обновляются не сразу: иногда это занимает 15 минут, иногда — час и более. Проверить можно тут - [xseo.in/dns](https://xseo.in/dns).

**Преимущества:**
- Сайт всегда работает и устраняется еще одна точка отказа.
- Ниже пинг - быстрее соединение.
- Не используются CDN, которые есть на многих популярных сайтах.
- Лучше маскировка - т.к. сайт находится в той же сети что и сервер.

**Разработан скрипт автоматизации для получения selfsteal** - вставьте ваш домен!
```bash
bash -c "$(curl -L https://raw.githubusercontent.com/xVRVx/autoXRAY/main/autoXRAYselfsteal.sh)" -- вашДОМЕН.com
```



**[Поддержать автора](https://pay.cryptocloud.plus/pos/Weu1Y0fOhLho0nte)**
